swagger: "2.0"
info:
  description: "企业微信服务端API."
  version: 1.0.0
  title: 企业微信服务端API
  license:
    name: Apache-2.0
    url: "https://www.apache.org/licenses/LICENSE-2.0.html"
host: qyapi.weixin.qq.com
basePath: /cgi-bin
tags:
  - name: token
    description: ""
schemes:
  - https
paths:
  /gettoken:
    get:
      tags:
        - token
      summary: 每个应用有独立的secret，获取到的access_token只能本应用使用，所以每个应用的access_token应该分开来获取
      description: ""
      operationId: get_token
      produces:
        - application/json
      parameters:
        - in: query
          name: corpid
          description: 企业ID
          required: true
          type: string
        - in: query
          name: corpsecret
          description: 应用的凭证密钥
          required: true
          type: string
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/TokenRsp"
  /get_api_domain_ip:
    get:
      tags:
        - token
      summary: 获取企业微信API域名IP段
      description: ""
      operationId: get_api_domain_ip
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetApiDomainIpRsp"
  /user/create:
    post:
      tags:
        - user
      summary: 创建成员
      description: 创建成员
      operationId: create_user
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/CreateUserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /user/get:
    get:
      tags:
        - user
      summary: 读取成员
      description: 读取成员
      operationId: get_user
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: query
          name: userid
          required: true
          type: string
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetUserRsp"
  /user/update:
    post:
      tags:
        - user
      summary: 更新成员
      description: 更新成员
      operationId: update_user
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/UpdateUserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /user/delete:
    get:
      tags:
        - user
      summary: 删除成员
      description: 删除成员
      operationId: delete_user
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: query
          name: userid
          required: true
          type: string
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /user/batchdelete:
    post:
      tags:
        - user
      summary: 批量删除成员
      description: 批量删除成员
      operationId: batch_delete_user
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/BatchDeleteUserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /user/simplelist:
    get:
      tags:
        - user
      summary: 获取部门成员
      description: 获取部门成员
      operationId: user_simple_list
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: department_id
          required: true
          type: integer
          format: int32
        - in: query
          name: fetch_child
          required: false
          type: integer
          format: int32
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/SimplelistRsp"
  /user/list:
    get:
      tags:
        - user
      summary: 获取部门成员详情
      description: 获取部门成员详情
      operationId: user_list
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
          description: 调用接口凭证
        - in: query
          name: department_id
          required: true
          type: integer
          format: int32
          description: 获取的部门id
        - in: query
          name: fetch_child
          required: false
          type: integer
          format: int32
          description: 1/0：是否递归获取子部门下面的成员
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/ListUserRsp"
  /user/convert_to_openid:
    post:
      tags:
        - user
      summary: userid与openid互换
      description: userid转openid
      operationId: convert_to_openid
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/ConvertToOpenidReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/ConvertToOpenidRsp"
  /user/authsucc:
    get:
      tags:
        - user
      summary: 二次验证
      operationId: authsucc
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: userid
          required: true
          type: string
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /batch/invite:
    post:
      tags:
        - user
      summary: 邀请成员
      operationId: invite
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/InviteReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/InviteRsp"
  /corp/get_join_qrcode:
    get:
      tags:
        - user
      summary: 获取加入企业二维码
      operationId: get_join_qrcode
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: size_type
          type: string
          required: false
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetJoinQrcodeRsp"
  /user/get_active_stat:
    post:
      tags:
        - user
      summary: 获取企业活跃成员数
      operationId: get_active_stat
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: date
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetActiveStatRsp"
  /message/send:
    post:
      tags:
        - message
      summary: 发送消息
      description: 应用支持推送文本、图片、视频、文件、图文等类型
      operationId: send_message
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/SendMessageReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/SendMessageRsp"
  /message/update_taskcard:
    post:
      tags:
        - message
      produces:
        - application/json
      consumes:
        - application/json
      operationId: message_update_taskcard
      summary: 更新任务卡片消息状态
      description: 应用可以发送任务卡片消息，发送之后可再通过接口更新用户任务卡片消息的替换文案信息。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/UpdateTaskcardReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/UpdateTaskcardRsp"

  /tag/create:
    post:
      tags:
        - tag
      summary: 创建内部标签
      description: 创建企业内部标签
      operationId: tag_create
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/CreateTagReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/CreateTagRsp"
  /tag/update:
    post:
      tags:
        - tag
      summary: 更新内部标签名字
      description: 更新内部标签名字
      operationId: tag_update
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/UpdateTagReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /tag/delete:
    get:
      tags:
        - tag
      summary: 删除标签
      description: 删除企业内部标签
      consumes:
        - application/json
      produces:
        - application/json
      operationId: tag_delete
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: tagid
          type: integer
          format: int32
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /tag/addtagusers:
    post:
      tags:
        - tag
      summary: 添加标签成员或部门
      description: 添加标签成员或部门
      produces:
        - application/json
      consumes:
        - application/json
      operationId: tag_addtagusers
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/AddTagUsersReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /tag/deltagusers:
    post:
      tags:
        - tag
      summary: 删除标签成员
      description: 删除标签成员
      operationId: tag_deleteusers
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/DeleteTagUsersReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /tag/get:
    get:
      tags:
        - tag
      summary: 获取标签成员
      description: 获取标签成员
      operationId: tag_get
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: tagid
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetTagUsersRsp"
  /tag/list:
    get:
      tags:
        - tag
      consumes:
        - application/json
      produces:
        - application/json
      summary: 获取标签列表
      description: 获取标签列表
      operationId: tag_list
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetTagListRsp"

  /externalcontact/get_follow_user_list:
    get:
      tags:
        - contact_way
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_get_follow_user_list
      summary: 获取配置了客户联系功能的成员列表
      description: 企业和第三方服务商可通过此接口获取配置了客户联系功能的成员列表。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetFollowUserListRsp"
  /externalcontact/add_contact_way:
    post:
      tags:
        - contact_way
      summary: 配置客户联系「联系我」方式
      description: 企业可以在管理后台-客户联系-加客户中配置成员的「联系我」的二维码或者小程序按钮，客户通过扫描二维码或点击小程序上的按钮，即可获取成员联系方式,主动联系到成员。企业可通过此接口为具有客户联系功能的成员生成专属的「联系我」二维码或者「联系我」按钮。
      operationId: externalcontact_add_contact_way
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/AddContactWayReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/AddContactWayRsp"
  /externalcontact/get_contact_way:
    post:
      tags:
        - contact_way
      summary: 获取企业已配置的「联系我」方式
      description: 获取企业配置的「联系我」二维码和「联系我」小程序按钮。
      operationId: externalcontact_get_contact_way
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/GetContactWayReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetContactWayRsp"
  /externalcontact/update_contact_way:
    post:
      tags:
        - contact_way
      summary: 更新企业已配置的「联系我」方式
      description: 更新企业配置的「联系我」二维码和「联系我」小程序按钮中的信息，如使用人员和备注等。
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_update_contact_way
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/UpdateContactWayReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /externalcontact/del_contact_way:
    post:
      tags:
        - contact_way
      summary: 删除企业已配置的「联系我」方式
      description: 删除一个已配置的「联系我」二维码或者「联系我」小程序按钮。
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_del_contact_way
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/DelContactWayReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /externalcontact/close_temp_chat:
    post:
      tags:
        - contact_way
      summary: 结束临时会话
      description: 将指定的企业成员和客户之前的临时会话断开，断开前会自动下发已配置的结束语。
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_close_temp_chat
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/CloseTempChatReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"

  /externalcontact/list:
    get:
      tags:
        - customer
      summary: 获取客户列表
      description: 企业可通过此接口获取指定成员添加的客户列表。客户是指配置了客户联系功能的成员所添加的外部联系人。没有配置客户联系功能的成员，所添加的外部联系人将不会作为客户返回。
      operationId: externalcontact_list
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: userid
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetExternalContactListRsp"
  /externalcontact/get:
    get:
      tags:
        - customer
      operationId: externalcontact_get
      summary: 获取客户详情
      description: 企业可通过此接口，根据外部联系人的userid（如何获取?），拉取客户详情。
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: external_userid
          type: string
          required: true
        - in: query
          name: cursor
          type: string
          required: false
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetExternalContactDetailRsp"
  /externalcontact/batch/get_by_user:
    post:
      tags:
        - customer
      operationId: externalcontact_batch_get_by_user
      consumes:
        - application/json
      produces:
        - application/json
      summary: 批量获取客户详情
      description: 企业/第三方可通过此接口获取指定成员添加的客户信息列表。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetExternalContactBatchUserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetExternalContactBatchUserRsp"
  /externalcontact/remark:
    post:
      tags:
        - customer
      operationId: externalcontact_remark
      consumes:
        - application/json
      produces:
        - application/json
      summary: 修改客户备注信息
      description: 企业可通过此接口修改指定用户添加的客户的备注信息。
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          required: true
          schema:
            $ref: "#/definitions/UpdateExternalContactRemarkReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /externalcontact/get_corp_tag_list:
    post:
      tags:
        - corp_tag
      operationId: externalcontact_get_corp_tag_list
      consumes:
        - application/json
      produces:
        - application/json
      summary: 获取企业标签库
      description: 企业可通过此接口获取企业客户标签详情。
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          required: false
          schema:
            $ref: "#/definitions/GetCorpTagListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetCorpTagListRsp"
  /externalcontact/add_corp_tag:
    post:
      tags:
        - corp_tag
      consumes:
        - application/json
      produces:
        - application/json
      summary: 添加企业客户标签
      description: 企业可通过此接口向客户标签库中添加新的标签组和标签，每个企业最多可配置3000个企业标签。
      operationId: externalcontact_add_corp_tag
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          required: false
          schema:
            $ref: "#/definitions/AddCorpTagReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/AddCorpTagRsp"
  /externalcontact/edit_corp_tag:
    post:
      tags:
        - corp_tag
      operationId: externalcontact_edit_corp_tag
      consumes:
        - application/json
      produces:
        - application/json
      summary: 编辑企业客户标签
      description: 企业可通过此接口编辑客户标签/标签组的名称或次序值。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/EditCorpTagReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /externalcontact/del_corp_tag:
    post:
      tags:
        - corp_tag
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_del_corp_tag
      summary: 删除企业客户标签
      description: 企业可通过此接口删除客户标签库中的标签，或删除整个标签组。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/DelCorpTagReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /externalcontact/mark_tag:
    post:
      tags:
        - corp_tag
      consumes:
        - application/json
      produces:
        - application/json
      summary: 编辑客户企业标签
      description: 企业可通过此接口为指定成员的客户添加上由企业统一配置的标签。
      operationId: externalcontact_mark_tag
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/MarkCorpContactTagReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /externalcontact/transfer_customer:
    post:
      tags:
        - customer
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_transfer_customer
      summary: 分配在职成员的客户
      description: 企业可通过此接口，转接在职成员的客户给其他成员。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/TransferCustomerReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/TransferCustomerRsp"
  /externalcontact/transfer_result:
    post:
      tags:
        - customer
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_transfer_result
      summary: 查询客户接替状态
      description: 企业和第三方可通过此接口查询在职成员的客户转接情况。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetTransferResultReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetTransferResultRsp"
  /externalcontact/get_unassigned_list:
    post:
      tags:
        - customer
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_get_unassigned_list
      summary: 获取待分配的离职成员列表
      description: 企业和第三方可通过此接口，获取所有离职成员的客户列表，并可进一步调用分配离职成员的客户接口将这些客户重新分配给其他企业成员。
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetUnassignedListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetUnassignedListRsp"
  /externalcontact/resigned/transfer_customer:
    post:
      tags:
        - customer
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_resigned_transfer_customer
      summary: 分配离职成员的客户
      description: 企业可通过此接口，分配离职成员的客户给其他成员。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/ResignedTransferCustomerReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/ResignedTransferCustomerRsp"
  /externalcontact/resigned/transfer_result:
    post:
      tags:
        - customer
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_resigned_transfer_result
      summary: 查询客户接替状态
      description: 企业和第三方可通过此接口查询离职成员的客户分配情况。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/ResignedTransferResultReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/ResignedTransferResultRsp"
  /externalcontact/groupchat/transfer:
    post:
      tags:
        - customer
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_groupchat_transfer
      summary: 分配离职成员的客户群
      description: 企业可通过此接口，将已离职成员为群主的群，分配给另一个客服成员。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GroupchatTransferReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GroupchatTransferRsp"
  /externalcontact/groupchat/list:
    post:
      tags:
        - group
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_groupchat_list
      summary: 获取客户群列表
      description: 该接口用于获取配置过客户群管理的客户群列表。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GroupchatListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GroupchatListRsp"
  /externalcontact/groupchat/get:
    post:
      tags:
        - group
      consumes:
        - application/json
      produces:
        - application/json
      summary: 获取客户群详情
      description: 通过客户群ID，获取详情。包括群名、群成员列表、群成员入群时间、入群方式。（客户群是由具有客户群使用权限的成员创建的外部群）
      operationId: externalcontact_groupchat_get
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetGroupchatReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetGroupchatRsp"
  /externalcontact/get_moment_list:
    post:
      tags:
        - monment
      produces:
        - application/json
      consumes:
        - application/json
      operationId: externalcontact_get_moment_list
      summary: 获取企业全部的发表列表
      description: 企业和第三方应用可通过该接口获取企业全部的发表内容。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetMomentListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetMomentListRsp"
  /externalcontact/get_moment_task:
    post:
      tags:
        - monment
      consumes:
        - application/json
      produces:
        - application/json
      summary: 获取客户朋友圈企业发表的列表
      description: 企业和第三方应用可通过该接口获取企业发表的朋友圈成员执行情况.第三方应用调用需要企业授权客户朋友圈下获取企业全部的发表记录的权限
      operationId: externalcontact_get_moment_task
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetMomentTaskReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetMomentTaskRsp"
  /externalcontact/get_moment_customer_list:
    post:
      tags:
        - monment
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_get_moment_customer_list
      summary: 获取客户朋友圈发表时选择的可见范围
      description: 企业和第三方应用可通过该接口获取客户朋友圈创建时，选择的客户可见范围
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetMomentCustomerListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetMomentCustomerListRsp"
  /externalcontact/get_moment_send_result:
    post:
      tags:
        - monment
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_get_moment_send_result
      summary: 获取客户朋友圈发表后的可见客户列表
      description: 企业和第三方应用可通过该接口获取客户朋友圈发表后，可在微信朋友圈中查看的客户列表
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetMomentSendResultReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetMomentSendResultRsp"
  /externalcontact/get_moment_comments:
    post:
      tags:
        - monment
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_get_moment_comments
      summary: 获取客户朋友圈的互动数据
      description: 企业和第三方应用可通过此接口获取客户朋友圈的互动数据。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetMomentCommentsReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetMomentCommentsRsp"
  /externalcontact/add_msg_template:
    post:
      tags:
        - groupmsg
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_add_msg_template
      summary: 创建企业群发
      description: 企业跟第三方应用可通过此接口添加企业群发消息的任务并通知成员发送给相关客户或客户群。（注：企业微信终端需升级到2.7.5版本及以上）注意：调用该接口并不会直接发送消息给客户/客户群，需要成员确认后才会执行发送（客服人员的企业微信需要升级到2.7.5及以上版本）旧接口创建企业群发已经废弃，接口升级后支持发送视频文件，并且支持最多同时发送9个附件。同一个企业每个自然月内仅可针对一个客户/客户群发送4条消息，超过接收上限的客户将无法再收到群发消息。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/AddMsgTemplateReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/AddMsgTemplateRsp"
  /externalcontact/get_groupmsg_list_v2:
    post:
      tags:
        - groupmsg
      consumes:
        - application/json
      produces:
        - application/json
      summary: 获取群发记录列表
      description: 企业和第三方应用可通过此接口获取企业与成员的群发记录。群发任务记录的起止时间间隔不能超过1个月
      operationId: externalcontact_get_groupmsg_list_v2
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetGroupmsgListV2Req"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetGroupmsgListV2Rsp"
  /externalcontact/get_groupmsg_task:
    post:
      tags:
        - groupmsg
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_get_groupmsg_task
      summary: 获取群发成员发送任务列表
      description: 获取群发成员发送任务列表
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetGroupmsgTaskReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetGroupmsgTaskRsp"
  /externalcontact/get_groupmsg_send_result:
    post:
      tags:
        - groupmsg
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_get_groupmsg_send_result
      summary: 获取企业群发成员执行结果
      description: 获取企业群发成员执行结果
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetGroupmsgSendResultReq"
      responses:
        "200":
          description: successful responses
          schema:
            $ref: "#/definitions/GetGroupmsgSendResultRsp"
  /externalcontact/send_welcome_msg:
    post:
      tags:
        - welcome_msg
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_send_welcome_msg
      summary: 发送新客户欢迎语
      description: 企业微信在向企业推送添加外部联系人事件时，会额外返回一个welcome_code，企业以此为凭据调用接口，即可通过成员向新添加的客户发送个性化的欢迎语。为了保证用户体验以及避免滥用，企业仅可在收到相关事件后20秒内调用，且只可调用一次。如果企业已经在管理端为相关成员配置了可用的欢迎语，则推送添加外部联系人事件时不会返回welcome_code。每次添加新客户时可能有多个企业自建应用/第三方应用收到带有welcome_code的回调事件，但仅有最先调用的可以发送成功。后续调用将返回41051（externaluser has started chatting）错误，请用户根据实际使用需求，合理设置应用可见范围，避免冲突。旧接口发送新客户欢迎语已经废弃，接口升级后支持发送视频文件，并且最多支持同时发送9个附件
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/SendWelcomeMsgReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/SendWelcomeMsgRsp"
  /externalcontact/group_welcome_template/add:
    post:
      tags:
        - welcome_msg
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_group_welcome_template_add
      summary: 添加入群欢迎语素材
      description: 企业可通过此API向企业的入群欢迎语素材库中添加素材。每个企业的入群欢迎语素材库中，最多容纳100个素材。text中支持配置多个%NICKNAME%(大小写敏感)形式的欢迎语，当配置了欢迎语占位符后，发送给客户时会自动替换为客户的昵称;text、image、link和miniprogram四者不能同时为空；text与另外三者可以同时发送，此时将会以两条消息的形式触达客户;image、link和miniprogram只能有一个，如果三者同时填，则按image、link、miniprogram的优先顺序取参，也就是说，如果image与link同时传值，则只有image生效。media_id和pic_url只需填写一个，两者同时填写时使用media_id，二者不可同时为空。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/AddGroupWelcomeTemplateReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/AddGroupWelcomeTemplateRsp"
  /externalcontact/get_user_behavior_data:
    post:
      tags:
        - user
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_get_user_behavior_data
      summary: 获取「联系客户统计」数据
      description: 企业可通过此接口获取成员联系客户的数据，包括发起申请数、新增客户数、聊天数、发送消息数和删除/拉黑成员的客户数等指标。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetUserBehaviorDataReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetUserBehaviorDataRsp"
  /externalcontact/groupchat/statistic:
    post:
      tags:
        - user
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_groupchat_statistic
      summary: 获取「群聊数据统计」数据 - 按群主聚合的方式
      description: 获取指定日期的统计数据。注意，企业微信仅存储180天的数据。
      parameters:
        - in: query
          name: access_token
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetGroupchatStatisticReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetGroupchatStatisticRsp"
  /externalcontact/groupchat/statistic_group_by_day:
    post:
      tags:
        - user
      consumes:
        - application/json
      produces:
        - application/json
      operationId: externalcontact_groupchat_statistic_group_by_day
      summary: 获取「群聊数据统计」数据 - 按自然日聚合的方式
      description: 获取「群聊数据统计」数据 - 按自然日聚合的方式
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetGroupchatStatisticGroupByDayReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetGroupchatStatisticGroupByDayRsp"
  /media/upload:
    post:
      tags:
        - media
      consumes:
        - multipart/form-data
      produces:
        - application/json
      operationId: media_upload
      summary: 上传临时素材
      description: 素材上传得到media_id，该media_id仅三天内有效;media_id在同一企业内应用之间可以共享
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: type
          type: string
          description: 媒体文件类型，分别有图片（image）、语音（voice）、视频（video），普通文件（file）
          required: true
        - in: formData
          name: filename
          type: file
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/MediaUploadRsp"
  /media/uploadimg:
    post:
      tags:
        - media
      produces:
        - application/json
      consumes:
        - multipart/form-data
      operationId: media_uploadimg
      summary: 上传图片
      description: 上传图片得到图片URL，该URL永久有效;返回的图片URL，仅能用于图文消息正文中的图片展示，或者给客户发送欢迎语等；若用于非企业微信环境下的页面，图片将被屏蔽。每个企业每天最多可上传100张图片
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: formData
          name: filename
          type: file
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/MediaUploadImgRsp"
  /media/get:
    get:
      tags:
        - media
      consumes:
        - application/json
      produces:
        - application/octet-stream
      summary: 获取临时素材
      description: 获取临时素材
      operationId: media_get
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: media_id
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            type: file
  /media/get/jssdk:
    get:
      tags:
        - media
      consumes:
        - application/json
      produces:
        - application/octet-stream
      operationId: media_get_jssdk
      summary: 获取高清语音素材
      description: 可以使用本接口获取从JSSDK的uploadVoice接口上传的临时语音素材，格式为speex，16K采样率。该音频比上文的临时素材获取接口（格式为amr，8K采样率）更加清晰，适合用作语音识别等对音质要求较高的业务。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: media_id
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            type: file
  /appchat/create:
    post:
      tags:
        - appchat
      produces:
        - application/json
      consumes:
        - application/json
      operationId: appchat_create
      summary: 创建群聊会话
      description: 创建群聊会话
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/CreateAppchatReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/CreateAppchatRsp"
  /appchat/update:
    post:
      tags:
        - appchat
      consumes:
        - application/json
      produces:
        - application/json
      operationId: appchat_update
      summary: 修改群聊会话
      description: 修改群聊会话
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/UpdateAppchatReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /appchat/get:
    get:
      tags:
        - appchat
      consumes:
        - application/json
      produces:
        - application/json
      operationId: appchat_get
      summary: 获取群聊会话
      description: 获取群聊会话
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: chatid
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetAppchatReq"
  /department/create:
    post:
      tags:
        - department
      consumes:
        - application/json
      produces:
        - application/json
      operationId: department_create
      summary: 创建部门
      description: 创建部门
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/CreateDepartmentReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/CreateDepartmentRsp"
  /department/update:
    post:
      tags:
        - department
      consumes:
        - application/json
      produces:
        - application/json
      operationId: department_update
      summary: 更新部门
      description: 更新部门
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/UpdateDepartmentReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /department/delete:
    get:
      tags:
        - department
      consumes:
        - application/json
      produces:
        - application/json
      operationId: department_delete
      summary: 删除部门
      description: 删除部门
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: id
          type: integer
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BaseResponse"
  /department/list:
    get:
      tags:
        - department
      consumes:
        - application/json
      produces:
        - application/json
      operationId: department_list
      summary: 获取部门列表
      description: 获取部门列表
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: id
          type: integer
          format: int32
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetDepartmentListRsp"
  /linkedcorp/agent/get_perm_list:
    post:
      tags:
        - linkedcorp
      consumes:
        - application/json
      produces:
        - application/json
      summary: 获取应用的可见范围
      description: 本接口只返回互联企业中非本企业内的成员和部门的信息，如果要获取本企业的可见范围，请调用“获取应用”接口
      operationId: linkedcorp_agent_get_perm_list
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetAgentPermListRsp"
  /linkedcorp/user/get:
    post:
      tags:
        - linkedcorp
      consumes:
        - application/json
      produces:
        - application/json
      operationId: linkedcorp_user_get
      summary: 获取互联企业成员详细信息
      description: 获取互联企业成员详细信息
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetLinkedcorpUserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetLinkedcorpUserRsp"
  /linkedcorp/user/simplelist:
    post:
      tags:
        - linkedcorp
      consumes:
        - application/json
      produces:
        - application/json
      operationId: linkedcorp_user_simplelist
      summary: 获取互联企业部门成员
      description: 获取互联企业部门成员
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetLinkedcorpUserSimplelistReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetLinkedcorpUserSimplelistRsp"
  /linkedcorp/user/list:
    post:
      tags:
        - linkedcorp
      consumes:
        - application/json
      produces:
        - application/json
      operationId: linkedcorp_user_list
      summary: 获取互联企业部门成员详情
      description: 获取互联企业部门成员详情
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetLinkedcorpUserListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetLinkedcorpUserListRsp"
  /linkedcorp/department/list:
    post:
      tags:
        - linkedcorp
      consumes:
        - application/json
      produces:
        - application/json
      operationId: linkedcorp_department_list
      summary: 获取互联企业部门列表
      description: 获取互联企业部门列表
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/GetLinkedcorpDepartmentListReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/GetLinkedcorpDepartmentListRsp"
  /batch/syncuser:
    post:
      tags:
        - batch
      consumes:
        - application/json
      produces:
        - application/json
      operationId: batch_syncuser
      summary: 增量更新成员
      description: 本接口以userid（帐号）为主键，增量更新企业微信通讯录成员。请先下载CSV模板(下载增量更新成员模版)，根据需求填写文件内容。注意事项：1.模板中的部门需填写部门ID，多个部门用分号分隔，部门ID必须为数字，根部门的部门id默认为1;2.文件中存在、通讯录中也存在的成员，更新成员在文件中指定的字段值;3.文件中存在、通讯录中不存在的成员，执行添加操作;4.通讯录中存在、文件中不存在的成员，保持不变;5.成员字段更新规则：可自行添加扩展字段。文件中有指定的字段，以指定的字段值为准；文件中没指定的字段，不更新;
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/BatchSyncuserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BatchSyncuserRsp"
  /batch/replaceuser:
    post:
      tags:
        - batch
      consumes:
        - application/json
      produces:
        - application/json
      operationId: batch_replaceuser
      summary: 全量覆盖成员
      description: 本接口以userid为主键，全量覆盖企业的通讯录成员，任务完成后企业的通讯录成员与提交的文件完全保持一致。请先下载CSV文件(下载全量覆盖成员模版)，根据需求填写文件内容。注意事项：1.模板中的部门需填写部门ID，多个部门用分号分隔，部门ID必须为数字，根部门的部门id默认为1;2.文件中存在、通讯录中也存在的成员，完全以文件为准;3.文件中存在、通讯录中不存在的成员，执行添加操作;4.通讯录中存在、文件中不存在的成员，执行删除操作。出于安全考虑，下面两种情形系统将中止导入并返回相应的错误码。4.1.需要删除的成员多于50人，且多于现有人数的20%以上;4.2.需要删除的成员少于50人，且多于现有人数的80%以上5.成员字段更新规则：可自行添加扩展字段。文件中有指定的字段，以指定的字段值为准；文件中没指定的字段，不更新
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/BatchReplaceuserReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BatchReplaceuserRsp"
  /batch/replaceparty:
    post:
      tags:
        - batch
      produces:
        - application/json
      consumes:
        - application/json
      operationId: batch_replaceparty
      summary: 全量覆盖部门
      description: 本接口以partyid为键，全量覆盖企业的通讯录组织架构，任务完成后企业的通讯录组织架构与提交的文件完全保持一致。请先下载CSV文件(下载全量覆盖部门模版)，根据需求填写文件内容。注意事项：1.文件中存在、通讯录中也存在的部门，执行修改操作;2.文件中存在、通讯录中不存在的部门，执行添加操作;3.文件中不存在、通讯录中存在的部门，当部门下没有任何成员或子部门时，执行删除操作;4.文件中不存在、通讯录中存在的部门，当部门下仍有成员或子部门时，暂时不会删除，当下次导入成员把人从部门移出后自动删除;5.CSV文件中，部门名称、部门ID、父部门ID为必填字段，部门ID必须为数字，根部门的部门id默认为1；排序为可选字段，置空或填0不修改排序, order值大的排序靠前。
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: body
          name: body
          schema:
            $ref: "#/definitions/BatchReplacepartyReq"
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BatchReplacepartyRsp"
  /batch/getresult:
    get:
      tags:
        - batch
      consumes:
        - application/json
      produces:
        - application/json
      operationId: batch_getresult
      summary: 获取异步任务结果
      description: 获取异步任务结果
      parameters:
        - in: query
          name: access_token
          type: string
          required: true
        - in: query
          name: jonid
          type: string
          required: true
      responses:
        "200":
          description: successful operation
          schema:
            $ref: "#/definitions/BatchGetresultRsp"
definitions:
  BatchGetresultRsp:
    title: BatchGetresultRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          status:
            type: integer
            format: int32
          type:
            type: string
            format: int32
          total:
            type: integer
            format: int32
          percentage:
            type: integer
            format: int32
          result:
            type: array
            items:
              allOf:
                - $ref: "#/definitions/BatchGetresultUser"
                - $ref: "#/definitions/BatchGetresultParty"

  BatchGetresultUser:
    title: BatchGetresultUser
    type: object
    properties:
      userid:
        type: string
      errcode:
        type: integer
        format: int32
      errmsg:
        type: string
  BatchGetresultParty:
    title: BatchGetresultParty
    type: object
    properties:
      action:
        type: integer
        format: int32
      partyid:
        type: integer
        format: int32
      errcode:
        type: integer
        format: int32
      errmsg:
        type: string
  BatchReplacepartyRsp:
    title: BatchReplacepartyRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          jobid:
            type: string
  BatchReplacepartyReq:
    title: BatchReplacepartyReq
    type: object
    properties:
      media_id:
        type: string
      to_invite:
        type: boolean
      callback:
        type: object
        properties:
          url:
            type: string
          token:
            type: string
          encodingaeskey:
            type: string
  BatchReplaceuserRsp:
    title: BatchReplaceuserRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          jobid:
            type: string
  BatchReplaceuserReq:
    title: BatchReplaceuserReq
    type: object
    properties:
      media_id:
        type: string
      to_invite:
        type: boolean
      callback:
        type: object
        properties:
          url:
            type: string
          token:
            type: string
          encodingaeskey:
            type: string
  BatchSyncuserRsp:
    title: BatchSyncuserRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          jonid:
            type: string
  BatchSyncuserReq:
    title: BatchSyncuserReq
    type: object
    properties:
      media_id:
        type: string
      to_invite:
        type: boolean
      callback:
        type: object
        properties:
          url:
            type: string
          token:
            type: string
          encodingaeskey:
            type: string
  GetLinkedcorpDepartmentListRsp:
    title: GetLinkedcorpDepartmentListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          department_list:
            type: array
            items:
              type: object
              properties:
                department_id:
                  type: integer
                  format: int32
                department_name:
                  type: string
                parentid:
                  type: string
                order:
                  type: integer
                  format: int32
  GetLinkedcorpDepartmentListReq:
    title: GetLinkedcorpDepartmentListReq
    type: object
    properties:
      department_id:
        type: string
        description: 该字段用的是互联应用可见范围接口返回的department_ids参数，用的是 linkedid + ’/‘ + department_id 拼成的字符串
  GetLinkedcorpUserListRsp:
    title: GetLinkedcorpUserListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          userlist:
            type: array
            items:
              type: object
              properties:
                userid:
                  type: string
                name:
                  type: string
                mobile:
                  type: string
                telephone:
                  type: string
                email:
                  type: string
                position:
                  type: string
                corpid:
                  type: string
                department:
                  type: array
                  items:
                    type: string
                    description: 成员所属部门id列表，这个字段只会返回传入的department_id所属的互联企业里的部门id
                extattr:
                  type: object
                  properties:
                    attrs:
                      type: array
                      items:
                        allOf:
                          - $ref: "#/definitions/LinkedcorpUserInfoAttrText"
                          - $ref: "#/definitions/LinkedcorpUserInfoAttrWeb"

  GetLinkedcorpUserListReq:
    title: GetLinkedcorpUserListReq
    type: object
    properties:
      department_id:
        type: string
        description: 该字段用的是互联应用可见范围接口返回的department_ids参数，用的是 linkedid + ’/‘ + department_id 拼成的字符串
      fetch_child:
        type: boolean
  GetLinkedcorpUserSimplelistRsp:
    title: GetLinkedcorpUserSimplelistRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          userlist:
            type: object
            properties:
              userid:
                type: string
              name:
                type: string
              department:
                type: array
                items:
                  type: string
              corpid:
                type: string

  GetLinkedcorpUserSimplelistReq:
    title: GetLinkedcorpUserSimplelistReq
    type: object
    properties:
      department_id:
        type: string
      fetch_child:
        type: boolean
  GetLinkedcorpUserRsp:
    title: GetLinkedcorpUserRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          user_info:
            type: object
            properties:
              userid:
                type: string
              name:
                type: string
              department:
                type: array
                items:
                  type: string
              mobile:
                type: string
              telephone:
                type: string
              email:
                type: string
              position:
                type: string
              corpid:
                type: string
              extattr:
                type: object
                properties:
                  attrs:
                    type: array
                    items:
                      allOf:
                        - $ref: "#/definitions/LinkedcorpUserInfoAttrText"
                        - $ref: "#/definitions/LinkedcorpUserInfoAttrWeb"

  LinkedcorpUserInfoAttrText:
    title: LinkedcorpUserInfoAttrText
    type: object
    properties:
      name:
        type: string
      value:
        type: string
      type:
        type: integer
        format: int32
      text:
        type: object
        properties:
          value:
            type: string
  LinkedcorpUserInfoAttrWeb:
    title: LinkedcorpUserInfoAttrWeb
    type: object
    properties:
      name:
        type: string
      type:
        type: integer
        format: int32
      web:
        type: object
        properties:
          url:
            type: string
          title:
            type: string
  GetLinkedcorpUserReq:
    title: GetLinkedcorpUserReq
    type: object
    properties:
      userid:
        type: string
        description: 该字段用的是互联应用可见范围接口返回的userids参数，用的是 CorpId + ’/‘ + USERID 拼成的字符串; "CORPID/USERID"
  GetAgentPermListRsp:
    title: GetAgentPermListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          userids:
            type: array
            items:
              type: string
          department_ids:
            type: array
            items:
              type: string
  GetDepartmentListRsp:
    title: GetDepartmentListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          department:
            type: array
            items:
              type: object
              properties:
                id:
                  type: integer
                  format: int32
                name:
                  type: string
                name_en:
                  type: string
                parentid:
                  type: integer
                  format: int32
                order:
                  type: integer
                  format: int32

  UpdateDepartmentReq:
    title: UpdateDepartmentReq
    type: object
    properties:
      id:
        type: integer
        format: int32
      name:
        type: string
      name_en:
        type: string
      parentid:
        type: integer
        format: int32
      order:
        type: integer
        format: int32
  CreateDepartmentRsp:
    title: CreateDepartmentRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          id:
            type: integer
            format: int32
  CreateDepartmentReq:
    title: CreateDepartmentReq
    type: object
    properties:
      name:
        type: string
        description: 部门名称。同一个层级的部门名称不能重复。长度限制为1~32个字符，字符不能包括\:?”<>｜
      name_en:
        type: string
      parentid:
        type: integer
        format: int32
      order:
        type: integer
        format: int32
      id:
        type: integer
        format: int32
        description: 部门id，32位整型，指定时必须大于1。若不填该参数，将自动生成id
  GetAppchatReq:
    title: GetAppchatReq
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          chat_info:
            type: object
            properties:
              chatid:
                type: string
              name:
                type: string
              owner:
                type: string
              userlist:
                type: array
                items:
                  type: string
  UpdateAppchatReq:
    title: UpdateAppchatReq
    type: object
    properties:
      chatid:
        type: string
      name:
        type: string
      owner:
        type: string
      add_user_list:
        type: array
        items:
          type: string
      del_user_list:
        type: array
        items:
          type: string
  CreateAppchatRsp:
    title: CreateAppchatRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          chatid:
            type: string
  CreateAppchatReq:
    title: CreateAppchatReq
    type: object
    properties:
      name:
        type: string
      owner:
        type: string
      chatid:
        type: string
      userlist:
        type: array
        items:
          type: string
  MediaUploadImgRsp:
    title: MediaUploadImgRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          url:
            type: string
  MediaUploadRsp:
    title: MediaUploadRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          type:
            type: string
          media_id:
            type: string
          created_at:
            type: string
  GetGroupchatStatisticGroupByDayRsp:
    title: GetGroupchatStatisticGroupByDayRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          items:
            type: object
            properties:
              stat_time:
                type: integer
                format: int32
              data:
                type: object
                properties:
                  new_chat_cnt:
                    type: integer
                    format: int32
                  chat_total:
                    type: integer
                    format: int32
                  chat_has_msg:
                    type: integer
                    format: int32
                  new_member_cnt:
                    type: integer
                    format: int32
                  member_total:
                    type: integer
                    format: int32
                  member_has_msg:
                    type: integer
                    format: int32
                  msg_total:
                    type: integer
                    format: int32

  GetGroupchatStatisticGroupByDayReq:
    title: GetGroupchatStatisticGroupByDayReq
    type: object
    properties:
      day_begin_time:
        type: integer
        format: int32
      day_end_time:
        type: integer
        format: int32
      owner_filter:
        type: object
        properties:
          userid_list:
            type: array
            items:
              type: string
  GetGroupchatStatisticRsp:
    title: GetGroupchatStatisticRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          total:
            type: integer
            format: int32
          next_offset:
            type: integer
            format: int32
          items:
            type: array
            items:
              type: object
              properties:
                owner:
                  type: string
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      new_chat_cnt:
                        type: integer
                        format: int32
                      chat_total:
                        type: integer
                        format: int32
                      chat_has_msg:
                        type: integer
                        format: int32
                      new_member_cnt:
                        type: integer
                        format: int32
                      member_total:
                        type: integer
                        format: int32
                      member_has_msg:
                        type: integer
                        format: int32
                      msg_total:
                        type: integer
                        format: int32
  GetGroupchatStatisticReq:
    title: GetGroupchatStatisticReq
    type: object
    properties:
      day_begin_time:
        type: integer
        format: int32
      day_end_time:
        type: integer
        format: int32
      owner_filter:
        type: object
        properties:
          userid_list:
            type: array
            items:
              type: string
      order_by:
        type: integer
        format: int32
      order_asc:
        type: integer
        format: int32
      offset:
        type: integer
        format: int32
      limit:
        type: integer
        format: int32
  GetUserBehaviorDataRsp:
    title: GetUserBehaviorDataRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          behavior_data:
            type: array
            items:
              type: object
              properties:
                stat_time:
                  type: integer
                  format: int32
                chat_cnt:
                  type: integer
                  format: int32
                message_cnt:
                  type: integer
                  format: int32
                reply_percentage:
                  type: number
                  format: float
                avg_reply_time:
                  type: integer
                  format: int32
                negative_feedback_cnt:
                  type: integer
                  format: int32
                new_apply_cnt:
                  type: integer
                  format: int32
                new_contact_cnt:
                  type: integer
                  format: int32
  GetUserBehaviorDataReq:
    title: GetUserBehaviorDataReq
    type: object
    properties:
      userid:
        type: array
        items:
          type: string
      partyid:
        type: array
        items:
          type: integer
          format: int32
      start_time:
        type: integer
        format: int32
      end_time:
        type: integer
        format: int32
  AddGroupWelcomeTemplateRsp:
    title: AddGroupWelcomeTemplateRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          template_id:
            type: string

  AddGroupWelcomeTemplateReq:
    title: AddGroupWelcomeTemplateReq
    type: object
    properties:
      text:
        type: object
        properties:
          content:
            type: string
      image:
        type: object
        properties:
          media_id:
            type: string
          pic_url:
            type: string
      link:
        type: object
        properties:
          title:
            type: string
          picurl:
            type: string
          desc:
            type: string
          url:
            type: string
      miniprogram:
        type: object
        properties:
          title:
            type: string
          pic_media_id:
            type: string
          appid:
            type: string
          page:
            type: string
      agentid:
        type: integer
        format: int32
        description: 授权方安装的应用agentid。仅旧的第三方多应用套件需要填此参数
      notify:
        type: integer
        format: int32
        description: 是否通知成员将这条入群欢迎语应用到客户群中，0-不通知，1-通知， 不填则通知

  SendWelcomeMsgRsp:
    type: object
    title: SendWelcomeMsgRsp
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
  SendWelcomeMsgReq:
    title: SendWelcomeMsgReq
    type: object
    properties:
      welcome_code:
        type: string
      text:
        type: object
        properties:
          content:
            type: string
      attachments:
        type: array
        items:
          type: object
          allOf:
            - $ref: "#/definitions/GroupMsgImage"
            - $ref: "#/definitions/GroupMsgLink"
            - $ref: "#/definitions/GroupMsgMiniprogram"
            - $ref: "#/definitions/GroupMsgVideo"

  GetGroupmsgSendResultRsp:
    title: GetGroupmsgSendResultRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          send_list:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                chat_id:
                  type: string
                userid:
                  type: string
                status:
                  type: integer
                  format: int32
                send_time:
                  type: integer
                  format: int32

  GetGroupmsgSendResultReq:
    title: GetGroupmsgSendResultReq
    type: object
    properties:
      msgid:
        type: string
      userid:
        type: string
      limit:
        type: integer
        format: int32
      cursor:
        type: string
  GetGroupmsgTaskRsp:
    type: object
    title: GetGroupmsgTaskRsp
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          task_list:
            type: array
            items:
              type: object
              properties:
                userid:
                  type: string
                status:
                  type: integer
                  format: int32
                send_time:
                  type: integer
                  format: int32
  GetGroupmsgTaskReq:
    title: GetGroupmsgTaskReq
    type: object
    properties:
      msgid:
        type: string
      limit:
        type: integer
        format: int32
      cursor:
        type: string
  GetGroupmsgListV2Rsp:
    title: GetGroupmsgListV2Rsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          attachments:
            type: array
            items:
              type: object
              allOf:
                - $ref: "#/definitions/GroupMsgImage"
                - $ref: "#/definitions/GroupMsgLink"
                - $ref: "#/definitions/GroupMsgMiniprogram"
                - $ref: "#/definitions/GroupMsgVideo"

  GetGroupmsgListV2Req:
    title: GetGroupmsgListV2Req
    type: object
    properties:
      chat_type:
        type: string
      start_time:
        type: integer
        format: int32
      end_time:
        type: integer
        format: int32
      creator:
        type: string
      filter_type:
        type: integer
        format: int32
        description: 创建人类型。0：企业发表 1：个人发表 2：所有，包括个人创建以及企业创建，默认情况下为所有类型
      limit:
        type: integer
        format: int32
      cursor:
        type: string

  AddMsgTemplateRsp:
    title: AddMsgTemplateRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          msgid:
            type: string
          fail_list:
            type: array
            items:
              type: string
  AddMsgTemplateReq:
    title: AddMsgTemplateReq
    type: object
    properties:
      chat_type:
        type: string
      external_userid:
        type: array
        items:
          type: string
      sender:
        type: string
      text:
        type: object
        properties:
          content:
            type: string
      attachments:
        type: array
        items:
          type: object
          allOf:
            - $ref: "#/definitions/GroupMsgImage"
            - $ref: "#/definitions/GroupMsgLink"
            - $ref: "#/definitions/GroupMsgMiniprogram"
            - $ref: "#/definitions/GroupMsgVideo"

  GroupMsgImage:
    type: object
    properties:
      msgtype:
        type: string
      image:
        type: object
        properties:
          media_id:
            type: string
          pic_url:
            type: string
  GroupMsgLink:
    type: object
    properties:
      msgtype:
        type: string
      link:
        type: object
        properties:
          title:
            type: string
          picurl:
            type: string
          desc:
            type: string
          url:
            type: string
  GroupMsgMiniprogram:
    type: object
    properties:
      msgtype:
        type: string
      miniprogram:
        type: object
        properties:
          title:
            type: string
          pic_media_id:
            type: string
          appid:
            type: string
          page:
            type: string
  GroupMsgVideo:
    type: object
    properties:
      msgtype:
        type: string
      video:
        type: object
        properties:
          media_id:
            type: string
  GetMomentCommentsRsp:
    title: GetMomentCommentsRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          comment_list:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                create_time:
                  type: integer
                  format: int32
          like_list:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                create_time:
                  type: integer
                  format: int32

  GetMomentCommentsReq:
    title: GetMomentCommentsReq
    type: object
    properties:
      moment_id:
        type: string
      userid:
        type: string
  GetMomentSendResultRsp:
    title: GetMomentSendResultRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          customer_list:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
  GetMomentSendResultReq:
    title: GetMomentSendResultReq
    type: object
    properties:
      moment_id:
        type: string
      userid:
        type: string
      cursor:
        type: string
      limit:
        type: integer
        format: int32

  GetMomentCustomerListRsp:
    title: GetMomentCustomerListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          customer_list:
            type: array
            items:
              type: object
              properties:
                userid:
                  type: string
                external_userid:
                  type: string
  GetMomentCustomerListReq:
    title: GetMomentCustomerListReq
    type: object
    properties:
      moment_id:
        type: string
      userid:
        type: string
      cursor:
        type: string
      limit:
        type: integer
        format: int32
  GetMomentTaskRsp:
    title: GetMomentTaskRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          task_list:
            type: array
            items:
              type: object
              properties:
                userid:
                  type: string
                publish_status:
                  type: integer
                  format: int32
  GetMomentTaskReq:
    title: GetMomentTaskReq
    type: object
    properties:
      moment_id:
        type: string
      cursor:
        type: string
      limit:
        type: integer
        format: int32

  GetMomentListRsp:
    title: GetMomentListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          moment_list:
            type: array
            items:
              properties:
                moment_id:
                  type: string
                creator:
                  type: string
                create_time:
                  type: integer
                  format: int32
                create_type:
                  type: integer
                  format: int32
                visible_type:
                  type: integer
                  format: int32
                text:
                  type: object
                  properties:
                    content:
                      type: string
                image:
                  type: array
                  items:
                    type: object
                    properties:
                      media_id:
                        type: string
                video:
                  type: object
                  properties:
                    media_id:
                      type: string
                    thumb_media_id:
                      type: string
                link:
                  type: object
                  properties:
                    title:
                      type: string
                    url:
                      type: string
                location:
                  type: object
                  properties:
                    latitude:
                      type: string
                    longitude:
                      type: string
                    name:
                      type: string

  GetMomentListReq:
    title: GetMomentListReq
    type: object
    properties:
      start_time:
        type: integer
        format: int32
        description: 朋友圈记录开始时间。Unix时间戳
      end_time:
        type: integer
        format: int32
        description: 朋友圈记录结束时间。Unix时间戳
      creator:
        type: string
      filter_type:
        type: integer
        format: int32
        description: 朋友圈类型。0：企业发表 1：个人发表 2：所有，包括个人创建以及企业创建，默认情况下为所有类型
      cursor:
        type: string
      limit:
        type: integer
        format: int32
  GetGroupchatRsp:
    title: GetGroupchatRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          group_chat:
            type: object
            properties:
              chat_id:
                type: string
              name:
                type: string
              owner:
                type: string
              notice:
                type: string
              create_time:
                type: integer
                format: int32
              member_list:
                type: array
                items:
                  type: object
                  properties:
                    userid:
                      type: string
                    type:
                      type: integer
                      format: int32
                    join_time:
                      type: integer
                      format: int32
                    join_scene:
                      type: integer
                      format: int32
                    invitor:
                      type: object
                      properties:
                        userid:
                          type: string
                    unionid:
                      type: string
              admin_list:
                type: array
                items:
                  type: object
                  properties:
                    userid:
                      type: string

  GetGroupchatReq:
    title: GetGroupchatReq
    type: object
    properties:
      chat_id:
        type: string
  GroupchatListRsp:
    title: GroupchatListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          group_chat_list:
            type: array
            items:
              type: object
              properties:
                chat_id:
                  type: string
                status:
                  type: integer
                  format: int32
          next_cursor:
            type: string

  GroupchatListReq:
    title: GroupchatListReq
    type: object
    properties:
      status_filter:
        type: integer
        format: int32
        description: 客户群跟进状态过滤。0 - 所有列表(即不过滤);1 - 离职待继承;2 - 离职继承中;3 - 离职继承完成;默认为0
      owner_filter:
        type: object
        properties:
          userid_list:
            type: array
            items:
              type: string
      cursor:
        type: string
      limit:
        type: integer
        format: int32

  GroupchatTransferRsp:
    title: GroupchatTransferRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          failed_chat_list:
            type: array
            items:
              type: object
              properties:
                chat_id:
                  type: string
                errcode:
                  type: integer
                  format: int32
                errmsg:
                  type: string
  GroupchatTransferReq:
    title: GroupchatTransferReq
    type: object
    properties:
      chat_id_list:
        type: array
        items:
          type: string
      new_owner:
        type: string

  ResignedTransferResultRsp:
    title: ResignedTransferResultRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          customer:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                status:
                  type: integer
                  format: int32
                takeover_time:
                  type: integer
                  format: int32
  ResignedTransferResultReq:
    title: ResignedTransferResultReq
    type: object
    properties:
      handover_userid:
        type: string
      takeover_userid:
        type: string
      cursor:
        type: string

  ResignedTransferCustomerRsp:
    title: ResignedTransferCustomerRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          customer:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                errcode:
                  type: integer
                  format: int32

  ResignedTransferCustomerReq:
    title: ResignedTransferCustomerReq
    type: object
    properties:
      handover_userid:
        type: string
      takeover_userid:
        type: string
      external_userid:
        type: array
        items:
          type: string

  GetUnassignedListRsp:
    title: GetUnassignedListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          is_last:
            type: boolean
          next_cursor:
            type: string
          info:
            type: array
            items:
              type: object
              properties:
                handover_userid:
                  type: string
                external_userid:
                  type: string
                dimission_time:
                  type: integer
                  format: int32

  GetUnassignedListReq:
    title: GetUnassignedListReq
    type: object
    properties:
      page_id:
        type: integer
        format: int32
      cursor:
        type: string
      page_size:
        type: integer
        format: int32

  GetTransferResultRsp:
    title: GetTransferResultRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: string
        properties:
          next_cursor:
            type: string
          customer:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                status:
                  type: integer
                  format: int32
                takeover_time:
                  type: integer
                  format: int32

  GetTransferResultReq:
    title: GetTransferResultReq
    type: object
    properties:
      handover_userid:
        type: string
      takeover_userid:
        type: string
      cursor:
        type: string

  TransferCustomerRsp:
    title: TransferCustomerRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          customer:
            type: array
            items:
              type: object
              properties:
                external_userid:
                  type: string
                errcode:
                  type: integer
                  format: int32
  TransferCustomerReq:
    title: TransferCustomerReq
    type: object
    properties:
      handover_userid:
        type: string
      takeover_userid:
        type: string
      external_userid:
        type: array
        items:
          type: string
      transfer_success_msg:
        type: string

  MarkCorpContactTagReq:
    title: MarkCorpTagReq
    type: object
    properties:
      userid:
        type: string
      external_userid:
        type: string
      add_tag:
        type: array
        items:
          type: string
      remove_tag:
        type: array
        items:
          type: string
  DelCorpTagReq:
    title: DelCorpTagReq
    type: object
    properties:
      tag_id:
        type: array
        items:
          type: string
      group_id:
        type: array
        items:
          type: string
      agentid:
        type: string
        description: 授权方安装的应用agentid。仅旧的第三方多应用套件需要填此参数
  EditCorpTagReq:
    title: EditCorpTagReq
    type: object
    properties:
      id:
        type: string
      name:
        type: string
      order:
        type: string
      agentid:
        type: integer
        format: int32
  AddCorpTagRsp:
    title: AddCorpTagRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          tag_group:
            type: object
            properties:
              group_id:
                type: string
              group_name:
                type: string
              create_time:
                type: integer
                format: int32
              order:
                type: integer
                format: int32
              tag:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    cretate_time:
                      type: integer
                      format: int32
                    order:
                      type: integer
                      format: int32

  AddCorpTagReq:
    title: AddCorpTagReq
    type: object
    properties:
      group_id:
        type: string
      group_name:
        type: string
      order:
        type: integer
        format: int32
      tag:
        type: array
        items:
          type: object
          properties:
            name:
              type: string
            order:
              type: integer
              format: int32
      agentid:
        type: integer
        format: int32
        description: 授权方安装的应用agentid。仅旧的第三方多应用套件需要填此参数
  GetCorpTagListRsp:
    title: GetCorpTagListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          tag_group:
            type: array
            items:
              type: object
              properties:
                group_id:
                  type: string
                group_name:
                  type: string
                create_time:
                  type: integer
                  format: int32
                order:
                  type: integer
                  format: int32
                deleted:
                  type: boolean
                tag:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      create_time:
                        type: integer
                        format: int32
                      order:
                        type: integer
                        format: int32
                      deleted:
                        type: boolean

  GetCorpTagListReq:
    title: GetCorpTagListReq
    type: object
    properties:
      tag_id:
        type: array
        items:
          type: string
      group_id:
        type: array
        items:
          type: string

  UpdateExternalContactRemarkReq:
    title: UpdateExternalContactRemarkReq
    type: object
    properties:
      userid:
        type: string
      external_userid:
        type: string
      remark:
        type: string
      description:
        type: string
      remark_company:
        type: string
      remark_mobiles:
        type: array
        items:
          type: string
      remark_pic_mediaid:
        type: string

  GetExternalContactBatchUserRsp:
    title: GetExternalContactBatchUserRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          external_contact_list:
            type: array
            items:
              allOf:
                - $ref: "#/definitions/ExternalContact"
                - $ref: "#/definitions/BatchUserFollowInfo"

  BatchUserFollowInfo:
    type: object
    properties:
      follow_info:
        type: object
        properties:
          remark:
            type: string
          description:
            type: string
          createtime:
            type: integer
            format: int32
          tag_id:
            type: array
            items:
              type: string
          remark_corp_name:
            type: string
          remark_mobiles:
            type: array
            items:
              type: string
          oper_userid:
            type: string
          add_way:
            type: integer
            format: int32

  GetExternalContactBatchUserReq:
    title: GetExternalContactBatchUserReq
    type: object
    properties:
      userid:
        type: string
      cursor:
        type: string
      limit:
        type: integer
        format: int32
  GetExternalContactDetailRsp:
    title: GetExternalContactDetailRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          next_cursor:
            type: string
          follow_user:
            type: array
            items:
              $ref: "#/definitions/ContactFollowUser"
          external_contact:
            $ref: "#/definitions/ExternalContact"
  ProfileMiniprogram:
    type: object
    properties:
      type:
        type: integer
        format: int32
      name:
        type: string
      miniprogram:
        type: object
        properties:
          appid:
            type: string
          pagepath:
            type: string
          title:
            type: string
  ExternalContact:
    type: object
    properties:
      external_contact:
        type: object
        properties:
          external_userid:
            type: string
          name:
            type: string
          position:
            type: string
          avatar:
            type: string
          corp_name:
            type: string
          corp_full_name:
            type: string
          type:
            type: integer
            format: int32
          gender:
            type: integer
            format: int32
          unionid:
            type: string
          external_profile:
            type: object
            properties:
              external_attr:
                type: array
                items:
                  allOf:
                    - $ref: "#/definitions/ProfileText"
                    - $ref: "#/definitions/ProfileWeb"
                    - $ref: "#/definitions/ProfileMiniprogram"
  ProfileWeb:
    type: object
    properties:
      type:
        type: integer
        format: int32
      name:
        type: string
      web:
        type: object
        properties:
          url:
            type: string
          title:
            type: string
  ProfileText:
    type: object
    properties:
      type:
        type: integer
        format: int32
      name:
        type: string
      text:
        type: object
        properties:
          value:
            type: string

  ContactFollowUser:
    type: object
    properties:
      userid:
        type: string
      remark:
        type: string
      description:
        type: string
      createtime:
        type: integer
        format: int32
      remark_corp_name:
        type: string
      oper_userid:
        type: string
      add_way:
        type: integer
        format: int32
      state:
        type: string
      remark_mobiles:
        type: array
        items:
          type: string
      tags:
        type: array
        items:
          type: object
          properties:
            group_name:
              type: string
            tag_name:
              type: string
            tag_id:
              type: string
            type:
              type: integer
              format: int32

  GetExternalContactListRsp:
    title: GetExternalContactListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          external_userid:
            type: array
            items:
              type: string
  CloseTempChatReq:
    title: CloseTempChatReq
    type: object
    properties:
      userid:
        type: string
      external_userid:
        type: string
  DelContactWayReq:
    title: DelContactWayReq
    type: object
    properties:
      config_id:
        type: string
  UpdateContactWayReq:
    title: UpdateContactWayReq
    type: object
    properties:
      config_id:
        type: string
      remark:
        type: string
      skip_verify:
        type: boolean
      style:
        type: integer
        format: int32
      state:
        type: string
      user:
        type: array
        items:
          type: string
      party:
        type: array
        items:
          type: integer
          format: int32
      expires_in:
        type: integer
        format: int32
        description: 临时会话二维码有效期，以秒为单位
      chat_expires_in:
        type: integer
        format: int32
      unionid:
        type: string
      conclusions:
        type: object
        properties:
          text:
            type: object
            properties:
              content:
                type: string
          image:
            type: object
            properties:
              media_id:
                type: string
          link:
            type: object
            properties:
              title:
                type: string
              picurl:
                type: string
              desc:
                type: string
              url:
                type: string
          miniprogram:
            type: object
            properties:
              title:
                type: string
              pic_media_id:
                type: string
              appid:
                type: string
              page:
                type: string
  GetContactWayReq:
    title: GetContactWayReq
    type: object
    properties:
      config_id:
        type: string
  GetContactWayRsp:
    title: GetContactWayRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          contact_way:
            type: object
            properties:
              config_id:
                type: string
              type:
                type: integer
                format: int32
              scene:
                type: integer
                format: int32
              style:
                type: integer
                format: int32
              remark:
                type: string
              skip_verify:
                type: boolean
              state:
                type: string
              user:
                type: array
                items:
                  type: string
              party:
                type: array
                items:
                  type: integer
                  format: int32
              is_temp:
                type: boolean
                description: 是否临时会话模式，true表示使用临时会话模式，默认为false
              expires_in:
                type: integer
                format: int32
              unionid:
                type: string
                description: 可进行临时会话的客户unionid，该参数仅在is_temp为true时有效，如不指定则不进行限制
              conclusions:
                type: object
                properties:
                  text:
                    type: object
                    properties:
                      content:
                        type: string
                  image:
                    type: object
                    properties:
                      media_id:
                        type: string
                  link:
                    type: object
                    properties:
                      title:
                        type: string
                      picurl:
                        type: string
                      desc:
                        type: string
                      url:
                        type: string
                  miniprogram:
                    type: object
                    properties:
                      title:
                        type: string
                      pic_media_id:
                        type: string
                      appid:
                        type: string
                      page:
                        type: string
  AddContactWayRsp:
    title: AddContactWayRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          config_id:
            type: string
          qr_code:
            type: string
  AddContactWayReq:
    title: AddContactWayRsp
    type: object
    properties:
      type:
        type: integer
        format: int32
      scene:
        type: integer
        format: int32
      style:
        type: integer
        format: int32
      remark:
        type: string
      skip_verify:
        type: boolean
      state:
        type: string
      user:
        type: array
        items:
          type: string
      party:
        type: array
        items:
          type: integer
          format: int32
      is_temp:
        type: boolean
        description: 是否临时会话模式，true表示使用临时会话模式，默认为false
      expires_in:
        type: integer
        format: int32
      unionid:
        type: string
        description: 可进行临时会话的客户unionid，该参数仅在is_temp为true时有效，如不指定则不进行限制
      conclusions:
        type: object
        properties:
          text:
            type: object
            properties:
              content:
                type: string
          image:
            type: object
            properties:
              media_id:
                type: string
          link:
            type: object
            properties:
              title:
                type: string
              picurl:
                type: string
              desc:
                type: string
              url:
                type: string
          miniprogram:
            type: object
            properties:
              title:
                type: string
              pic_media_id:
                type: string
              appid:
                type: string
              page:
                type: string
  GetFollowUserListRsp:
    title: GetFollowUserListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          follow_user:
            type: array
            items:
              type: string
  GetTagListRsp:
    title: GetTagListRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          taglist:
            type: array
            items:
              $ref: "#/definitions/TagListInfo"
  TagListInfo:
    type: object
    properties:
      tagid:
        type: integer
        format: int32
      tagname:
        type: string
  GetTagUsersRsp:
    title: GetTagUsersRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          tagname:
            type: string
          userlist:
            type: array
            items:
              $ref: "#/definitions/TagUserInfo"
          partylist:
            type: array
            items:
              type: integer
              format: int32
  TagUserInfo:
    type: object
    properties:
      userid:
        type: string
      name:
        type: string
  DeleteTagUsersReq:
    title: DeleteTagUsersReq
    type: object
    properties:
      tagid:
        type: integer
        format: int32
      userlist:
        type: array
        items:
          type: string
      partylist:
        type: array
        items:
          type: integer
          format: int32
  AddTagUsersReq:
    title: AddTagUsers
    type: object
    properties:
      tagid:
        type: integer
        format: int32
      userlist:
        type: array
        items:
          type: string
      partylist:
        type: array
        items:
          type: integer
          format: int32
  UpdateTagReq:
    title: UpdateTagReq
    type: object
    properties:
      tagid:
        type: integer
        format: int32
      tagname:
        type: string
  CreateTagRsp:
    title: CreateTagRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          tagid:
            type: integer
            format: int32
  CreateTagReq:
    title: CreateTagReq
    type: object
    properties:
      tagname:
        type: string
      tagid:
        type: integer
        format: int32
  GetActiveStatRsp:
    title: GetActiveStatRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          active_cnt:
            type: integer
            format: int32
  UpdateTaskcardRsp:
    title: UpdateTaskcardRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          invaliduser:
            type: array
            items:
              type: string
  UpdateTaskcardReq:
    title: UpdateTaskcardReq
    type: object
    properties:
      userid:
        type: array
        items:
          type: string
      agentid:
        type: integer
        format: int32
      task_id:
        type: string
      replace_name:
        type: string
  SendMessageRsp:
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          invaliduser:
            type: string
          invalidparty:
            type: string
          invalidtag:
            type: string
  SendMessageReq:
    title: SendMessageReq
    type: object
    properties:
      touser:
        type: string
      toparty:
        type: string
      totag:
        type: string
      msgtype:
        type: string
      agentid:
        type: integer
        format: int32
      text:
        $ref: "#/definitions/TextMsg"
      image:
        $ref: "#/definitions/ImageMsg"
      voice:
        $ref: "#/definitions/VoiceMsg"
      video:
        $ref: "#/definitions/VideoMsg"
      textcard:
        $ref: "#/definitions/TextcardMsg"
      news:
        $ref: "#/definitions/NewsMsg"
      mpnews:
        $ref: "#/definitions/MPNewsMsg"
      markdown:
        $ref: "#/definitions/MarkdownMsg"
      miniprogram_notice:
        $ref: "#/definitions/MiniProgramMsg"
      taskcard:
        $ref: "#/definitions/TaskcardMsg"
  GetJoinQrcodeRsp:
    title: GetJoinQrcodeRsp
    type: object
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          join_qrcode:
            type: string
  InviteReq:
    title: InviteReq
    description: InviteReq
    type: object
    properties:
      user:
        type: array
        items:
          type: string
      party:
        type: array
        items:
          type: string
      tag:
        type: array
        items:
          type: string
  InviteRsp:
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          invaliduser:
            type: array
            items:
              type: string
          invalidparty:
            type: array
            items:
              type: string
          invalidtag:
            type: array
            items:
              type: string
  ConvertToOpenidReq:
    type: object
    properties:
      userid:
        type: string
  ConvertToOpenidRsp:
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          openid:
            type: string
  ListUserRsp:
    description: ListUserRsp
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          userlist:
            type: array
            items:
              $ref: "#/definitions/User"
  SimplelistRsp:
    description: SimplelistRsp
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          userlist:
            type: array
            items:
              type: object
              properties:
                userid:
                  type: string
                name:
                  type: string
                department:
                  type: array
                  items:
                    type: integer
                    format: int32
                open_userid:
                  type: string
  BatchDeleteUserReq:
    title: BatchDeleteUserReq
    description: BatchDeleteUserReq
    type: object
    properties:
      useridlist:
        type: array
        items:
          type: string
  UpdateUserReq:
    title: UpdateUserReq
    description: UpdateUserReq
    type: object
    properties:
      userid:
        type: string
      name:
        type: string
      department:
        type: array
        items:
          type: integer
          format: int32
      order:
        type: array
        items:
          type: integer
          format: int32
      position:
        type: string
      mobile:
        type: string
      gender:
        type: integer
        format: int32
      email:
        type: string
      is_leader_in_dept:
        type: array
        items:
          type: integer
          format: int32
      enable:
        type: integer
        format: int32
      avatar_mediaid:
        type: string
      telephone:
        type: string
      alias:
        type: string
      address:
        type: string
      main_department:
        type: integer
        format: int32
      extattr:
        $ref: "#/definitions/ExtAttrs"
      external_position:
        type: string
      external_profile:
        $ref: "#/definitions/ExternalProfile"
  GetUserRsp:
    type: object
    allOf:
      - $ref: "#/definitions/User"
      - $ref: "#/definitions/BaseResponse"
  User:
    title: User
    description: User
    type: object
    properties:
      userid:
        type: string
        description: 成员UserID。对应管理端的帐号，企业内必须唯一。不区分大小写，长度为1~64个字节。只能由数字、字母和“_-@.”四种字符组成，且第一个字符必须是数字或字母。
      name:
        type: string
        description: 成员名称。长度为1~64个utf8字符
      department:
        type: array
        items:
          type: integer
          format: int32
        description: 成员所属部门id列表,不超过20个
      order:
        description: 部门内的排序值
        type: array
        items:
          type: integer
          format: int32
      position:
        type: string
        description: 职务信息
      mobile:
        type: string
        description: 手机号码。企业内必须唯一，mobile/email二者不能同时为空
      gender:
        type: integer
        format: int32
        description: 性别
      email:
        type: string
        description: 邮箱
      is_leader_in_dept:
        type: integer
        format: int32
        description: 个数必须和参数department的个数一致
      avatar:
        type: string
        description: 成员头像的mediaid
      thumb_avatar:
        type: string
        description: 头像缩略图url
      telephone:
        type: string
        description: 座机
      alias:
        type: string
        description: 成员别名。长度1~32个utf8字符
      address:
        type: string
        description: 地址
      open_userid:
        type: string
        description: 全局唯一。对于同一个服务商，不同应用获取到企业内同一个成员的open_userid是相同的，最多64个字节。仅第三方应用可获取
      main_department:
        type: string
        description: 主部门
      status:
        type: integer
        format: int32
        description: 激活状态 1=已激活，2=已禁用，4=未激活，5=退出企业。
      qr_code:
        type: string
        description: 员工个人二维码，扫描可添加为外部联系人(注意返回的是一个url，可在浏览器上打开该url以展示二维码)；第三方仅通讯录应用可获取。
      external_position:
        type: string
        description: 对外职务
      external_profile:
        description: 成员对外属性
        $ref: "#/definitions/ExternalProfile"
      extattr:
        description: 自定义字段
        $ref: "#/definitions/ExtAttrs"
  ExternalProfile:
    title: ExternalProfile
    description: ExternalProfile
    type: object
    properties:
      external_corp_name:
        type: string
      external_attr:
        type: array
        items:
          $ref: "#/definitions/ExtAttr"
  CreateUserReq:
    title: CreateUserReq
    description: CreateUserReq
    type: object
    properties:
      userid:
        type: string
        description: 成员UserID。对应管理端的帐号，企业内必须唯一。不区分大小写，长度为1~64个字节。只能由数字、字母和“_-@.”四种字符组成，且第一个字符必须是数字或字母。
      name:
        type: string
        description: 成员名称。长度为1~64个utf8字符
      alias:
        type: string
        description: 成员别名。长度1~32个utf8字符
      mobile:
        type: string
        description: 手机号码。企业内必须唯一，mobile/email二者不能同时为空
      department:
        type: array
        items:
          type: integer
          format: int32
        description: 成员所属部门id列表,不超过20个
      order:
        description: 部门内的排序值
        type: array
        items:
          type: integer
          format: int32
      position:
        type: string
        description: 职务信息
      gender:
        type: integer
        format: int32
        description: 性别
      email:
        type: string
        description: 邮箱
      telephone:
        type: string
        description: 座机
      is_leader_in_dept:
        type: integer
        format: int32
        description: 个数必须和参数department的个数一致
      avatar_mediaid:
        type: string
        description: 成员头像的mediaid
      enable:
        type: integer
        format: int32
        description: 启用/禁用成员。1表示启用成员，0表示禁用成员
      extattr:
        description: 自定义字段
        $ref: "#/definitions/ExtAttrs"
  ExtAttrs:
    title: ExtAttrs
    type: object
    properties:
      attrs:
        type: array
        items:
          $ref: "#/definitions/ExtAttr"
  ExtAttr:
    title: ExtAttr
    type: object
    properties:
      type:
        type: integer
        format: int32
      name:
        type: string
      text:
        $ref: "#/definitions/TextMsg"
      web:
        type: object
  TaskcardMsg:
    type: object
    properties:
      title:
        type: string
      description:
        type: string
      url:
        type: string
      task_id:
        type: string
      btn:
        type: array
        items:
          $ref: "#/definitions/Btn"
  Btn:
    type: object
    properties:
      key:
        type: string
      name:
        type: string
      replace_name:
        type: string
      color:
        type: string
      is_bold:
        type: boolean
  MiniProgramMsg:
    type: object
    properties:
      appid:
        type: string
      page:
        type: string
      title:
        type: string
      description:
        type: string
      emphasis_first_item:
        type: boolean
      content_item:
        type: array
        items:
          type: object
          properties:
            key:
              type: string
            value:
              type: string
  MarkdownMsg:
    type: object
    properties:
      content:
        type: string
  TextMsg:
    type: object
    properties:
      content:
        type: string
  ImageMsg:
    type: object
    properties:
      media_id:
        type: string
  VoiceMsg:
    type: object
    properties:
      media_id:
        type: string
  VideoMsg:
    type: object
    properties:
      media_id:
        type: string
      title:
        type: string
      description:
        type: string
  FileMsg:
    type: object
    properties:
      media_id:
        type: string
  TextcardMsg:
    type: object
    properties:
      title:
        type: string
      description:
        type: string
      url:
        type: string
      btntxt:
        type: string
  NewsMsg:
    type: object
    properties:
      articles:
        type: array
        items:
          $ref: "#/definitions/ArticleMsg"
  MPNewsMsg:
    type: object
    properties:
      articles:
        type: array
        items:
          $ref: "#/definitions/MPArticleMsg"
  MPArticleMsg:
    type: object
    properties:
      title:
        type: string
      thumb_media_id:
        type: string
      author:
        type: string
      content_source_url:
        type: string
      content:
        type: string
      digest:
        type: string
  ArticleMsg:
    type: object
    properties:
      title:
        type: string
      description:
        type: string
      url:
        type: string
      picurl:
        type: string
  WebMsg:
    type: object

  TokenRsp:
    title: TokenRsp
    description: TokenRsp
    allOf:
      - $ref: "#/definitions/BaseResponse"
      - type: object
        properties:
          access_token:
            type: string
          expires_in:
            type: integer
        format: int64
  GetApiDomainIpRsp:
    allOf:
      - $ref: "#/definitions/BaseResponse"
    title: GetApiDomainIpRsp
    description: GetApiDomainIpRsp
    type: object
    properties:
      ip_list:
        type: array
        items:
          type: string
  BaseResponse:
    type: object
    properties:
      errcode:
        type: integer
        format: int32
      errmsg:
        type: string
